(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{3765:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(4942),a=n(5785),s=n(7294),c=n(3067),o=n(9008),i=n(5893);function l(){return(0,i.jsxs)(o.default,{children:[(0,i.jsx)("title",{children:"Snake | Built by Marc M\xfcller"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,i.jsx)("meta",{name:"author",content:"Marc M\xfcller"}),(0,i.jsx)("meta",{name:"description",content:"Minimal Snake browser game built, using Next.js"}),(0,i.jsx)("meta",{name:"keywords",content:"snake, snake game, browser game, nextjs, react"}),(0,i.jsx)("meta",{property:"og:url",content:"https://next-snake.vercel.app/"}),(0,i.jsx)("meta",{property:"og:type",content:"website"}),(0,i.jsx)("meta",{property:"og:site_name",content:"Next-Snake"}),(0,i.jsx)("meta",{property:"og:title",content:"Next-Snake | Built by Marc M\xfcller"}),(0,i.jsx)("meta",{property:"og:description",content:"Minimal Snake browser game, built using Next.js"}),(0,i.jsx)("meta",{property:"og:image",content:"https://next-snake.vercel.app/twitter-summary-card.jpg"}),(0,i.jsx)("meta",{property:"og:image:width",content:"512"}),(0,i.jsx)("meta",{property:"og:image:height",content:"512"}),(0,i.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,i.jsx)("meta",{name:"twitter:url",content:"https://next-snake.vercel.app/"}),(0,i.jsx)("meta",{name:"twitter:site",content:"@seven11nash"}),(0,i.jsx)("meta",{name:"twitter:title",content:"Next-Snake | Built by Marc M\xfcller"}),(0,i.jsx)("meta",{name:"twitter:description",content:"Minimal Snake browser game, built using Next.js"}),(0,i.jsx)("meta",{name:"twitter:image",content:"https://next-snake.vercel.app/twitter-summary-card.jpg"})]})}var u=n(7625),d=n(7765),x=n.n(d);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){var e=(0,s.useRef)(null),t=20,n=(0,s.useState)(),r=n[0],o=n[1],d=(0,s.useState)(4),f=d[0],h=d[1],p=(0,s.useState)(!1),y=p[0],j=p[1],w=(0,s.useState)(!1),g=w[0],k=w[1],b=(0,s.useState)(0),v=b[0],_=b[1],S=(0,s.useState)(!1),N=S[0],O=S[1],M=(0,s.useState)(0),R=M[0],E=M[1],G=(0,s.useState)({head:{x:12,y:9},trail:[]}),P=G[0],A=G[1],D=(0,s.useState)({}),C=D[0],I=D[1],B=(0,s.useState)({}),H=B[0],Z=B[1],L=(0,s.useState)({}),T=L[0],U=L[1],F=function e(){var t=Math.floor(25*Math.random()),n=Math.floor(19*Math.random());return P.head.x===t&&P.head.y===n||P.trail.some((function(e){return e.x===t&&e.y===n}))?e():{x:t,y:n}},X=function(){o(100),k(!1),E(0),A({head:{x:12,y:9},trail:[]}),I(F()),Z({dx:0,dy:-1}),j(!0),O(!1),h(3)},K=function(){R>v&&(_(R),localStorage.setItem("highscore",R),O(!0)),k(!0),j(!1),Z({dx:0,dy:0}),h(4)};return(0,s.useEffect)((function(){var n=e.current.getContext("2d");n.fRect=function(e,t,r,a){e=parseInt(e),t=parseInt(t),n.fillRect(e,t,r,a)},n.sRect=function(e,t,r,a){e=parseInt(e)+.5,t=parseInt(t)+.5,n.strokeRect(e,t,r,a)},g||(function(e){e.clearRect(-1,-1,502,382)}(n),function(e){e.fillStyle="#DC3030",e.strokeStyle="#881A1B",C&&"undefined"!==typeof C.x&&"undefined"!==typeof C.y&&(e.fRect(C.x*t,C.y*t,t,t),e.sRect(C.x*t,C.y*t,t,t))}(n),function(e){e.fillStyle="#0170F3",e.strokeStyle="#003779",e.fRect(P.head.x*t,P.head.y*t,t,t),e.sRect(P.head.x*t,P.head.y*t,t,t),P.trail.forEach((function(n){e.fRect(n.x*t,n.y*t,t,t),e.sRect(n.x*t,n.y*t,t,t)}))}(n))}),[P]),(0,c.Z)((function(){g||function(){var e={x:P.head.x+H.dx,y:P.head.y+H.dy};(e.x<0||e.y<0||e.x>=25||e.y>=19)&&K(),e.x===C.x&&e.y===C.y&&(E((function(e){return e+1})),I(F()));for(var t=[].concat((0,a.Z)(P.trail),[m({},P.head)]);t.length>R+2;)t.shift();t.some((function(t){return t.x===e.x&&t.y===e.y}))&&K(),U(m({},H)),A({head:m({},e),trail:(0,a.Z)(t)})}()}),y&&0===f?r:null),(0,c.Z)((function(){h((function(e){return e-1}))}),f>0&&f<4?800:null),(0,s.useEffect)((function(){_(parseInt(localStorage.getItem("highscore"))||0)}),[]),(0,s.useEffect)((function(){R>10&&R<=15&&o(1e3/R)}),[R]),(0,s.useEffect)((function(){var e=function(e){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d"].includes(e.key)){var t={};switch(e.key){case"ArrowRight":t={dx:1,dy:0};break;case"ArrowLeft":t={dx:-1,dy:0};break;case"ArrowDown":t={dx:0,dy:1};break;case"ArrowUp":t={dx:0,dy:-1};break;case"d":t={dx:1,dy:0};break;case"a":t={dx:-1,dy:0};break;case"s":t={dx:0,dy:1};break;case"w":t={dx:0,dy:-1};break;default:console.error("Error with handleKeyDown")}T.dx+t.dx===0&&T.dy+t.dy===0||Z(t)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[T]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l,{}),(0,i.jsxs)("main",{className:x().main,children:[(0,i.jsx)("canvas",{className:x().canvas,ref:e,width:501,height:381}),(0,i.jsxs)("section",{className:x().section,children:[(0,i.jsxs)("div",{className:x().score,children:[(0,i.jsxs)("p",{className:x().p,children:[(0,i.jsx)(u.G,{icon:["fas","star"]}),"Score: ",R]}),(0,i.jsxs)("p",{className:x().p,children:[(0,i.jsx)(u.G,{icon:["fas","trophy"]}),"Highscore: ",v>R?v:R]}),(0,i.jsx)("a",{className:x().button,href:"/",children:"Home"})]}),!g&&f>0?(0,i.jsx)("button",{onClick:X,children:4===f?"Start Game":f}):(0,i.jsxs)("div",{className:x().controls,children:[(0,i.jsx)("p",{children:"How to Play?"}),(0,i.jsxs)("p",{children:[(0,i.jsx)(u.G,{icon:["fas","arrow-up"]}),(0,i.jsx)(u.G,{icon:["fas","arrow-right"]}),(0,i.jsx)(u.G,{icon:["fas","arrow-down"]}),(0,i.jsx)(u.G,{icon:["fas","arrow-left"]})]})]})]}),g&&(0,i.jsxs)("div",{className:"game-overlay",children:[(0,i.jsx)("p",{className:"large",children:"Game Over"}),(0,i.jsx)("p",{className:"final-score",children:N?"\ud83c\udf89 New Highscore \ud83c\udf89":"You scored: ".concat(R)}),!y&&g&&(0,i.jsx)("button",{onClick:X,children:4===f?"Restart Game":f})]})]}),(0,i.jsxs)("footer",{children:["Copyright \xa9 ",(0,i.jsx)("a",{href:"https://mueller.dev",children:"Marc M\xfcller"})," 2021 \xa0|\xa0 ",(0,i.jsxs)("a",{href:"https://github.com/marcmll/next-snake",children:[(0,i.jsx)(u.G,{icon:["fab","github"]})," Github"]})]})]})}},3321:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/snake",function(){return n(3765)}])},7765:function(e){e.exports={main:"Snake_main__3OfF3",canvas:"Snake_canvas__-dO3D",section:"Snake_section__3sTtR",p:"Snake_p__18UHX",svg:"Snake_svg__18ilY",score:"Snake_score__3KBTt",controls:"Snake_controls__2nUq4",button:"Snake_button__22Q5O"}}},function(e){e.O(0,[774,562,888,179],(function(){return t=3321,e(e.s=t);var t}));var t=e.O();_N_E=t}]);